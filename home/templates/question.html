{% extends "base.html" %}
{% load voting %}

{% block subheader %}
  <h2>{{params.question.title }}</h2>
{% endblock %}

{% block custom-frameworks %}
    <!-- Voting AJAX -->
    <script src="/static/js/vote.js"></script>
    
    <!-- Tiny MCE editor -->
    <script type="text/javascript" src="http://helios.bx.psu.edu/static/tinymce/tiny_mce.js" ></script >
    <script type="text/javascript" >
        tinyMCE.init({
            theme : "advanced",
            mode : "textareas",
            plugins : "bbcode",
            theme_advanced_buttons1 : "bold,italic,underline,undo,redo,link,unlink,image,forecolor,styleselect,removeformat,cleanup,code",
            theme_advanced_buttons2 : "",
            theme_advanced_buttons3 : "",
            theme_advanced_toolbar_location : "bottom",
            theme_advanced_toolbar_align : "center",
            theme_advanced_styles : "Code=codeStyle;Quote=quoteStyle",
            content_css : "/static/biostar.css",
            entity_encoding : "raw",
            add_unload_trigger : false,
            remove_linebreaks : false,
            inline_styles : false,
            font_size_style_values : "medium,large,x-large,xx-large",
            convert_fonts_to_spans : false
        });
    </script>
{% endblock %}


</script >


{% block mainbody %}
    <div class="content"">
        
        <table>
            <tr>
                <td valign="top"> 
                    {% votebox params.question.post %}
                    
                </td>
                <td>
                    <div>
                        {{params.question.post.html|safe }}
                    </div>
                    <div class="left">
                        mod | edit | flag
                    </div>
                    <div class="right">
                        Author: {{ params.question.post.author.username }}
                    </div>
                </td>
            </tr>
            
        </table>

        <table id="answer-table">
            
            <tr>
                <td colspan="2"> <h2> {{params.answers|length}} Answers</h2> </td>
            </tr>

            {% for answer in params.answers %}
            <tr>
                <td> <div class="mini-counts">{{ answer.post.score }}</div> </td>
                <td>
                    <div>{{ answer.post.html|safe }}</div>
                    <div class="left">
                        mod | edit | flag
                    </div>
                    <div class="right">
                        Author: {{ answer.post.author.username }}
                    </div>
                </td>
            </tr>
            {% endfor %}
        
            <tr>
                <td colspan="2"> 
                    <h2>Your Answer</h2>
                    <form action="/newpost/" method="post">
                        {% csrf_token %}
                        <input type="hidden" value="{{params.question.id}}" name="parent" />
                        <textarea name="content" cols="50" rows="15" > 
                        
                        </textarea>
                        <div align="center">
                            <input style="margin:10px;" type="submit" name="submit" value="Post Your Answer">
                        </div>
                    </form>
                </td>
            </tr>

        </table>

        


    </div>
{% endblock %}