{% extends "base.html" %}

{% block subheader %}
  <h2>{{params.question.title }}</h2>
{% endblock %}

{% block custom-frameworks %}
    <!-- Tiny MCE editor -->
    <script type="text/javascript" src="http://biostar.bx.psu.edu/tinymce/tiny_mce.js" ></script >
    <script type="text/javascript" >
        tinyMCE.init({
            theme : "advanced",
            mode : "textareas",
            plugins : "bbcode",
            theme_advanced_buttons1 : "bold,italic,underline,undo,redo,link,unlink,image,forecolor,styleselect,removeformat,cleanup,code",
            theme_advanced_buttons2 : "",
            theme_advanced_buttons3 : "",
            theme_advanced_toolbar_location : "bottom",
            theme_advanced_toolbar_align : "center",
            theme_advanced_styles : "Code=codeStyle;Quote=quoteStyle",
            content_css : "css/bbcode.css",
            entity_encoding : "raw",
            add_unload_trigger : false,
            remove_linebreaks : false,
            inline_styles : false,
            convert_fonts_to_spans : false
        });
    </script>
{% endblock %}


</script >


{% block mainbody %}
    <div class="content"">
        
        <table>
            <tr>
                <td valign="top"> 
                    <div class="mini-counts">0</div>
                </td>
                <td>
                    {{params.question.post.html|safe }}
                    <div class="left">
                        mod | edit | flag
                    </div>
                    <div class="right">
                        Author: {{ params.question.post.author.username }}
                    </div>
                </td>
            </tr>
            
        </table>

        <table id="answer-table">
            
            <tr>
                <td colspan="2"> <h2> {{params.answers|length}} Answers</h2> </td>
            </tr>

            {% for answer in params.answers %}
            <tr>
                <td> <div class="mini-counts">0</div> </td>
                <td>
                    <div>{{ answer.post.html|safe }}</div>
                    <div class="left">
                        mod | edit | flag
                    </div>
                    <div class="right">
                        Author: {{ answer.post.author.username }}
                    </div>
                </td>
            </tr>
            {% endfor %}
        
            <tr>
                <td colspan="2"> 
                    <h2>Your Answer</h2>
                    <form action="/newpost/" method="post">
                        {% csrf_token %}
                        <input type="hidden" value="{{params.question.id}}" name="parent" />
                        <textarea name="content" cols="50" rows="15" > 
                        
                        </textarea>
                        <div align="center">
                            <input style="margin:10px;" type="submit" name="submit" value="Post Your Answer">
                            <div>Post needs to end with the word TESTING (warding off automated robots)</div>
                        </div>
                    </form>
                </td>
            </tr>

        </table>

        


    </div>
{% endblock %}