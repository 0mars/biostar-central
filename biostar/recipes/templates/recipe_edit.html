{% extends "engine_base.html" %}
{%  load engine_tags %}


{% block headtitle %}
    Editing: {{ name }}
{% endblock %}

{% block body %}


    <div class="ui top attached blue colored tabular menu">
      <a class="{{ edit_code }} item" href="{% url 'recipe_edit' recipe.uid %}?active=edit_code">
      <i class="code icon"></i><span class="phone">Edit Code</span>
  </a>
  <a class=" {{ edit_info }} item" href="{% url 'recipe_edit' recipe.uid %}?active=edit_info">
    <i class="edit icon"></i><span class="phone">Edit Information</span>
  </a>

</div>

<div class="ui bottom attached colored segment">
{% form_errors form %}
{% if edit_info %}

<div class="ui centered card" style="width: 700px;">

    <div class="ui raised segment inputcolor">
    {% form_errors form %}

        <form method="post" class="ui form" action="{{ action_url }}" enctype='multipart/form-data'>

            {% csrf_token %}

            <div class="field segment">
                <label>Recipe Name</label>
                {{ form.name }}
                <p class="muted">What do you want to call the recipe</p>
            </div>

             <div class="field">
                  <label>Unique Identifier ( uid )</label>
                  {{form.uid}}
                  <p class="muted">Unique identifier for this recipe. Leaving box empty will be make the uid random.</p>
             </div>

             <div class="field">
                  <label> Image {{ form.image.errors }}</label>
                  {{ form.image }}
                  <p class="muted">Optional image to recognize the recipe by (square image, no more than 500px)</p>
             </div>

             <div class="field">
                  <label>Recipe rank</label>
                  {{form.rank}}
                  <p class="muted">Used for ordering recipes on the recipe list.</p>
             </div>

            <div class="field segment">
                <label>Recipe description</label>
                {{ form.text }}
                <p class="muted">A detailed explanation of what the recipe does (markdown OK).</p>
            </div>
            <button type="submit" class="ui green button">
                <i class="save icon"></i>Save
            </button>
            <a class="ui right floated button" href="{% url 'recipe_view' recipe.uid %}">
                 <i class="undo icon"></i> Cancel
            </a>

        </form>
    </div>
</div>



{% else %}
    {% include 'widgets/recipe_code_edit.html' with form=form recipe=recipe %}
{% endif %}

</div>

{% endblock %}
