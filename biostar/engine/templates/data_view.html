{% extends "base_content.html" %}
{% load engine_tags %}

{% block headtitle %}
    {{ data.name }}
{% endblock %}

{% block content %}

    <div class="ui large vertical segment">

        <div class="ui divided items">


            <div class="item">
                <div class="content">

                    {% if request.user.is_authenticated %}
                        <div id="copy-message-{{ data.uid }}"></div>
                        <a class="copy-data ui right floated label" data-uid="{{ data.uid }}"
                           copy-url="{% url 'data_copy' %}">
                            <i class="copy icon"></i>Copy
                        </a>

                    {% endif %}

                    <a class="subheader" href="{% url 'data_view' data.uid %}">
                        <i class="file icon"></i>{{ data.name }}
                    </a>

                    <div class="meta">
                        <div class="ui small labels">
                            {% size_label data %}
                            {% type_label data %}
                            &bull; created by {{ data.owner.first_name }}
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>


    <div class="ui  vertical segment">
        <div class="five ui mini buttons">
                    <a class="copy-data ui button" data-uid="{{ data.uid }}">
            <i class="copy icon"></i>Copy
        </a>
        {% action_bar data 'data_edit' %}
            
        </div>

    </div>

    <div class="ui vertical segment">
        <div class="ui aligned header">Data Files</div>
        {% file_list obj=data path=path files=files form=form %}
    </div>

    <div class="ui vertical segment">
        <div class="ui aligned header">Data Summary</div>
        <div>{{ data.summary|safe }}</div>
    </div>

    {%  if data.html %}
    <div class="ui vertical segment">
        <div class="ui aligned header">Data Info</div>
        <div>{{ data.html|safe }}</div>
    </div>
    {%  endif %}

    <div class="ui vertical segment">
        <div class="ui aligned header">Data Content</div>
        <pre>{{ data.peek }}</pre>
    </div>


{% endblock %}
